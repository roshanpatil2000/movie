{"ast":null,"code":"import _regeneratorRuntime from\"D:/puneshnmi/movie/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/puneshnmi/movie/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/puneshnmi/movie/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import'./details.css';import axios from'axios';import DarkVariantExample from'../../Components/Carousel';import{img_300,img_not_available}from'../../Config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DetailsContainer=function DetailsContainer(){var params=useParams();var _useState=useState(),_useState2=_slicedToArray(_useState,2),content=_useState2[0],setContent=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),video=_useState4[0],setVideo=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),credits=_useState6[0],setCredits=_useState6[1];var titleName=content&&content.name&&content.name!==''?content.name:content&&content.title&&content.title!==''?content.title:'';// console.log('params', params);\nvar id=params.movieid||'';var _media_type=params&&params.mediatype&&params.mediatype!==''?params.mediatype.toLowerCase():'';var API_KEY=process.env.REACT_APP_NOT_SECRET_CODE;var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://api.themoviedb.org/3/movie/\".concat(id,\"?api_key=\").concat(API_KEY,\"&language=en-US\"));case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setContent(data);//console.log('fetchData details',  data);\n_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();var fetchVideo=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var _data$results$,_yield$axios$get2,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"https://api.themoviedb.org/3/movie/\".concat(id,\"/videos?api_key=\").concat(API_KEY,\"&language=en-US\"));case 3:_yield$axios$get2=_context2.sent;data=_yield$axios$get2.data;setVideo((_data$results$=data.results[0])===null||_data$results$===void 0?void 0:_data$results$.key);//console.log('fetchVideo',  data);\n_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function fetchVideo(){return _ref2.apply(this,arguments);};}();var creditsFetch=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var _yield$axios$get3,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get(\"https://api.themoviedb.org/3/movie/\".concat(id,\"/credits?api_key=\").concat(API_KEY,\"&language=en-US\"));case 3:_yield$axios$get3=_context3.sent;data=_yield$axios$get3.data;setCredits(data.cast);// console.log('sdata', data);\n_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);console.error(_context3.t0);case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[0,8]]);}));return function creditsFetch(){return _ref3.apply(this,arguments);};}();useEffect(function(){fetchData();fetchVideo();creditsFetch();//eslint-disable-next-line\n},[]);var renderDataHtml=function renderDataHtml(){var ImageURL=content.poster_path?img_300+content.poster_path:img_not_available;var tagline=content.tagline||'';var vote_average=content.vote_average||\"\";var overview=content.overview;var first_air_date=content.first_air_date||content.release_date;var runtime=content.runtime||'';var genres=content.genres&&content.genres.length>0?content.genres.map(function(item){return/*#__PURE__*/_jsx(\"span\",{children:item.name},item.id);}):'';// console.log(content.runtime)\nreturn/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center\",children:[titleName,tagline&&tagline!==''?/*#__PURE__*/_jsxs(\"small\",{children:[\" \",tagline]}):'']})}),/*#__PURE__*/_jsx(Col,{className:\"col-12 col-xl-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card card--details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card__cover\",children:/*#__PURE__*/_jsx(\"img\",{src:ImageURL,alt:\"myimage\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card__wrap\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"card__rate\",children:[\" \",vote_average,\" \"]})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"card__meta\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Run time:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"linkTag\",children:[runtime,\" min\"]})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Genre:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"linkTag\",children:genres})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Release Date:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"linkTag\",children:first_air_date})]})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-center pt-5\",children:\" Overview\"}),/*#__PURE__*/_jsx(\"div\",{className:\"description_readmore_wrapper \",children:overview})]})]})}),/*#__PURE__*/_jsx(Col,{className:\"col-12 col-xl-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"frameSec\",children:/*#__PURE__*/_jsx(\"iframe\",{width:\"560\",height:\"315\",src:\"https://www.youtube.com/embed/\".concat(video),title:\"YouTube video player\",frameBorder:\"0\",allow:\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",allowFullScreen:true})})})]});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"main\",{className:\"detailsPage\",children:[/*#__PURE__*/_jsx(Container,{children:titleName&&titleName!==''?renderDataHtml():'Loading...'}),/*#__PURE__*/_jsx(\"section\",{className:\"section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"contentHead\",children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{className:\"col-12\",children:credits&&credits.length>0?/*#__PURE__*/_jsx(DarkVariantExample,{data:credits}):'Lading data...'})})})})})]})});};export default DetailsContainer;","map":{"version":3,"names":["React","useState","useEffect","useParams","Container","Row","Col","axios","DarkVariantExample","img_300","img_not_available","DetailsContainer","params","content","setContent","video","setVideo","credits","setCredits","titleName","name","title","id","movieid","_media_type","mediatype","toLowerCase","API_KEY","process","env","REACT_APP_NOT_SECRET_CODE","fetchData","get","data","console","error","fetchVideo","results","key","creditsFetch","cast","renderDataHtml","ImageURL","poster_path","tagline","vote_average","overview","first_air_date","release_date","runtime","genres","length","map","item"],"sources":["D:/puneshnmi/movie/src/Container/Details/index.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport {useParams} from 'react-router-dom'\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport './details.css';\r\nimport axios from 'axios';\r\nimport DarkVariantExample from '../../Components/Carousel';\r\nimport {img_300, img_not_available} from '../../Config';\r\n\r\nconst DetailsContainer = () => {\r\n    const params = useParams();\r\n    const [content, setContent] = useState();\r\n    const [video, setVideo] = useState();\r\n    const [credits, setCredits] = useState();\r\n    const titleName = content && content.name && content.name !== '' ? content.name : content && content.title && content.title !== '' ? content.title : '';\r\n\r\n\r\n    // console.log('params', params);\r\n    const id = params.movieid || '';\r\n    const _media_type = params && params.mediatype && params.mediatype !== '' ? params.mediatype.toLowerCase() : '';\r\n    const API_KEY = process.env.REACT_APP_NOT_SECRET_CODE;\r\n\r\n    const fetchData = async () => {\r\n        try {\r\n            const {data} = await axios.get(`https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}&language=en-US`);\r\n            setContent(data);\r\n            //console.log('fetchData details',  data);\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n    const fetchVideo = async () => {\r\n        try {\r\n            const {data} = await axios.get(`https://api.themoviedb.org/3/movie/${id}/videos?api_key=${API_KEY}&language=en-US`);\r\n            setVideo(data.results[0]?.key);\r\n            //console.log('fetchVideo',  data);\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    const creditsFetch = async () => {\r\n        try {\r\n            const {data} = await axios.get(`https://api.themoviedb.org/3/movie/${id}/credits?api_key=${API_KEY}&language=en-US`);\r\n            setCredits(data.cast);\r\n            // console.log('sdata', data);\r\n        } catch (error) {\r\n            console.error(error)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n        fetchVideo();\r\n        creditsFetch();\r\n        //eslint-disable-next-line\r\n    }, [])\r\n\r\n    const renderDataHtml = () => {\r\n        const ImageURL = content.poster_path ? img_300 + content.poster_path : img_not_available;\r\n        const tagline = content.tagline || '';\r\n        const vote_average = content.vote_average || \"\";\r\n        const overview = content.overview;\r\n        const first_air_date = content.first_air_date || content.release_date;\r\n        const runtime = content.runtime || '';\r\n        const genres = content.genres && content.genres.length > 0 ? content.genres.map((item) => <span\r\n            key={item.id}>{item.name}</span>) : '';\r\n\r\n\r\n        // console.log(content.runtime)\r\n        return (\r\n            <Row>\r\n                <Col className='col-12'>\r\n                    <h1 className=\"text-center\">\r\n                        {titleName}\r\n                        {\r\n                            tagline && tagline !== '' ? <small> {tagline}</small> : ''\r\n                        }\r\n                    </h1>\r\n                </Col>\r\n                <Col className='col-12 col-xl-6'>\r\n                    <div className='card card--details'>\r\n                        <div className='card__cover'>\r\n                            <img src={ImageURL} alt=\"myimage\"/>\r\n                        </div>\r\n                        <div className='card__content'>\r\n                            <div className=\"card__wrap\">\r\n                                <span className=\"card__rate\"> {vote_average} </span>\r\n                            </div>\r\n                            <ul className=\"card__meta\">\r\n                                <li>\r\n                                    <span>Run time:</span>\r\n                                    <span className='linkTag'>{runtime} min</span>\r\n                                </li>\r\n                                 <li>\r\n                                    <span>Genre:</span>\r\n                                    <span className='linkTag'>{genres}</span>\r\n                                </li>\r\n                                <li><span>Release Date:</span> <span className='linkTag'>{first_air_date}</span></li>\r\n\r\n                            </ul>\r\n                            <h2 className=\"text-center pt-5\"> Overview</h2>\r\n                                <div className=\"description_readmore_wrapper \">\r\n                                    {overview}\r\n                                </div>\r\n                        </div>\r\n                    </div>\r\n                </Col>\r\n                <Col className='col-12 col-xl-6'>\r\n                    <div className='frameSec'>\r\n\r\n                        <iframe width=\"560\" height=\"315\" src={`https://www.youtube.com/embed/${video}`}\r\n                                title=\"YouTube video player\" frameBorder=\"0\"\r\n                                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                                allowFullScreen></iframe>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n        )\r\n    }\r\n    return (\r\n        <>\r\n            <main className='detailsPage'>\r\n                <Container>\r\n                    {\r\n                        titleName && titleName !== '' ? renderDataHtml() : 'Loading...'\r\n                    }\r\n\r\n                </Container>\r\n                <section className='section'>\r\n                    <div className='contentHead'>\r\n                        <Container>\r\n                            <Row>\r\n                                <Col className='col-12'>\r\n                                    {\r\n                                        credits && credits.length > 0 ?\r\n                                            <DarkVariantExample data={credits}/> : 'Lading data...'\r\n                                    }\r\n\r\n                                </Col>\r\n                            </Row>\r\n                        </Container>\r\n                    </div>\r\n                </section>\r\n            </main>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DetailsContainer;"],"mappings":"wUAAA,MAAOA,MAAK,EAAGC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAChD,OAAQC,SAAS,KAAO,kBAAkB,CAC1C,MAAOC,UAAS,KAAM,2BAA2B,CACjD,MAAOC,IAAG,KAAM,qBAAqB,CACrC,MAAOC,IAAG,KAAM,qBAAqB,CACrC,MAAO,eAAe,CACtB,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAOC,mBAAkB,KAAM,2BAA2B,CAC1D,OAAQC,OAAO,CAAEC,iBAAiB,KAAO,cAAc,CAAC,6IAExD,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAgB,EAAS,CAC3B,GAAMC,OAAM,CAAGT,SAAS,EAAE,CAC1B,cAA8BF,QAAQ,EAAE,wCAAjCY,OAAO,eAAEC,UAAU,eAC1B,eAA0Bb,QAAQ,EAAE,yCAA7Bc,KAAK,eAAEC,QAAQ,eACtB,eAA8Bf,QAAQ,EAAE,yCAAjCgB,OAAO,eAAEC,UAAU,eAC1B,GAAMC,UAAS,CAAGN,OAAO,EAAIA,OAAO,CAACO,IAAI,EAAIP,OAAO,CAACO,IAAI,GAAK,EAAE,CAAGP,OAAO,CAACO,IAAI,CAAGP,OAAO,EAAIA,OAAO,CAACQ,KAAK,EAAIR,OAAO,CAACQ,KAAK,GAAK,EAAE,CAAGR,OAAO,CAACQ,KAAK,CAAG,EAAE,CAGvJ;AACA,GAAMC,GAAE,CAAGV,MAAM,CAACW,OAAO,EAAI,EAAE,CAC/B,GAAMC,YAAW,CAAGZ,MAAM,EAAIA,MAAM,CAACa,SAAS,EAAIb,MAAM,CAACa,SAAS,GAAK,EAAE,CAAGb,MAAM,CAACa,SAAS,CAACC,WAAW,EAAE,CAAG,EAAE,CAC/G,GAAMC,QAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,yBAAyB,CAErD,GAAMC,UAAS,4FAAG,qMAEWxB,MAAK,CAACyB,GAAG,8CAAuCV,EAAE,qBAAYK,OAAO,oBAAkB,uCAArGM,IAAI,kBAAJA,IAAI,CACXnB,UAAU,CAACmB,IAAI,CAAC,CAChB;AAAA,+EAEAC,OAAO,CAACC,KAAK,aAAO,qEAE3B,kBARKJ,UAAS,0CAQd,CACD,GAAMK,WAAU,6FAAG,4NAEU7B,MAAK,CAACyB,GAAG,8CAAuCV,EAAE,4BAAmBK,OAAO,oBAAkB,yCAA5GM,IAAI,mBAAJA,IAAI,CACXjB,QAAQ,iBAACiB,IAAI,CAACI,OAAO,CAAC,CAAC,CAAC,yCAAf,eAAiBC,GAAG,CAAC,CAC9B;AAAA,mFAEAJ,OAAO,CAACC,KAAK,cAAO,uEAE3B,kBARKC,WAAU,2CAQf,CAED,GAAMG,aAAY,6FAAG,6MAEQhC,MAAK,CAACyB,GAAG,8CAAuCV,EAAE,6BAAoBK,OAAO,oBAAkB,yCAA7GM,IAAI,mBAAJA,IAAI,CACXf,UAAU,CAACe,IAAI,CAACO,IAAI,CAAC,CACrB;AAAA,mFAEAN,OAAO,CAACC,KAAK,cAAO,uEAE3B,kBARKI,aAAY,2CAQjB,CAEDrC,SAAS,CAAC,UAAM,CACZ6B,SAAS,EAAE,CACXK,UAAU,EAAE,CACZG,YAAY,EAAE,CACd;AACJ,CAAC,CAAE,EAAE,CAAC,CAEN,GAAME,eAAc,CAAG,QAAjBA,eAAc,EAAS,CACzB,GAAMC,SAAQ,CAAG7B,OAAO,CAAC8B,WAAW,CAAGlC,OAAO,CAAGI,OAAO,CAAC8B,WAAW,CAAGjC,iBAAiB,CACxF,GAAMkC,QAAO,CAAG/B,OAAO,CAAC+B,OAAO,EAAI,EAAE,CACrC,GAAMC,aAAY,CAAGhC,OAAO,CAACgC,YAAY,EAAI,EAAE,CAC/C,GAAMC,SAAQ,CAAGjC,OAAO,CAACiC,QAAQ,CACjC,GAAMC,eAAc,CAAGlC,OAAO,CAACkC,cAAc,EAAIlC,OAAO,CAACmC,YAAY,CACrE,GAAMC,QAAO,CAAGpC,OAAO,CAACoC,OAAO,EAAI,EAAE,CACrC,GAAMC,OAAM,CAAGrC,OAAO,CAACqC,MAAM,EAAIrC,OAAO,CAACqC,MAAM,CAACC,MAAM,CAAG,CAAC,CAAGtC,OAAO,CAACqC,MAAM,CAACE,GAAG,CAAC,SAACC,IAAI,qBAAK,sBACvEA,IAAI,CAACjC,IAAI,EAAnBiC,IAAI,CAAC/B,EAAE,CAAoB,GAAC,CAAG,EAAE,CAG1C;AACA,mBACI,MAAC,GAAG,yBACA,KAAC,GAAG,EAAC,SAAS,CAAC,QAAQ,uBACnB,YAAI,SAAS,CAAC,aAAa,WACtBH,SAAS,CAENyB,OAAO,EAAIA,OAAO,GAAK,EAAE,cAAG,6BAASA,OAAO,GAAS,CAAG,EAAE,GAE7D,EACH,cACN,KAAC,GAAG,EAAC,SAAS,CAAC,iBAAiB,uBAC5B,aAAK,SAAS,CAAC,oBAAoB,wBAC/B,YAAK,SAAS,CAAC,aAAa,uBACxB,YAAK,GAAG,CAAEF,QAAS,CAAC,GAAG,CAAC,SAAS,EAAE,EACjC,cACN,aAAK,SAAS,CAAC,eAAe,wBAC1B,YAAK,SAAS,CAAC,YAAY,uBACvB,cAAM,SAAS,CAAC,YAAY,eAAGG,YAAY,OAAS,EAClD,cACN,YAAI,SAAS,CAAC,YAAY,wBACtB,mCACI,mCAAsB,cACtB,cAAM,SAAS,CAAC,SAAS,WAAEI,OAAO,UAAY,GAC7C,cACJ,mCACG,gCAAmB,cACnB,aAAM,SAAS,CAAC,SAAS,UAAEC,MAAM,EAAQ,GACxC,cACL,mCAAI,uCAA0B,kBAAC,aAAM,SAAS,CAAC,SAAS,UAAEH,cAAc,EAAQ,GAAK,GAEpF,cACL,WAAI,SAAS,CAAC,kBAAkB,uBAAe,cAC3C,YAAK,SAAS,CAAC,+BAA+B,UACzCD,QAAQ,EACP,GACR,GACJ,EACJ,cACN,KAAC,GAAG,EAAC,SAAS,CAAC,iBAAiB,uBAC5B,YAAK,SAAS,CAAC,UAAU,uBAErB,eAAQ,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,yCAAmC/B,KAAK,CAAG,CACvE,KAAK,CAAC,sBAAsB,CAAC,WAAW,CAAC,GAAG,CAC5C,KAAK,CAAC,0FAA0F,CAChG,eAAe,OAAU,EAC/B,EACJ,GACJ,CAEd,CAAC,CACD,mBACI,sCACI,cAAM,SAAS,CAAC,aAAa,wBACzB,KAAC,SAAS,WAEFI,SAAS,EAAIA,SAAS,GAAK,EAAE,CAAGsB,cAAc,EAAE,CAAG,YAAY,EAG3D,cACZ,gBAAS,SAAS,CAAC,SAAS,uBACxB,YAAK,SAAS,CAAC,aAAa,uBACxB,KAAC,SAAS,wBACN,KAAC,GAAG,wBACA,KAAC,GAAG,EAAC,SAAS,CAAC,QAAQ,UAEfxB,OAAO,EAAIA,OAAO,CAACkC,MAAM,CAAG,CAAC,cACzB,KAAC,kBAAkB,EAAC,IAAI,CAAElC,OAAQ,EAAE,CAAG,gBAAgB,EAG7D,EACJ,EACE,EACV,EACA,GACP,EACR,CAEX,CAAC,CAED,cAAeN,iBAAgB"},"metadata":{},"sourceType":"module"}