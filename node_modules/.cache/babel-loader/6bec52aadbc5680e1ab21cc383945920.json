{"ast":null,"code":"import _regeneratorRuntime from\"D:/puneshnmi/movie/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/puneshnmi/movie/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/puneshnmi/movie/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import axios from'axios';import CardMoviesComponents from'../../Components/CardMovies';import PaginationComponent from'../../Components/Pagination';import SearchBarCardComponents from'../../Components/SearchBox';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchContainer=function SearchContainer(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),content=_useState2[0],setContent=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),pageno=_useState4[0],setPageno=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),paginationno=_useState6[0],setPaginationno=_useState6[1];var _useState7=useState('Rockstar'),_useState8=_slicedToArray(_useState7,2),searchValue=_useState8[0],_setSearchValue=_useState8[1];var _useState9=useState('movie'),_useState10=_slicedToArray(_useState9,2),typeValue=_useState10[0],_setTypeValue=_useState10[1];var API_KEY=process.env.REACT_APP_NOT_SECRET_CODE;var GetDataTrending=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://api.themoviedb.org/3/search/\".concat(typeValue,\"?api_key=\").concat(API_KEY,\"&page=\").concat(pageno,\"&language=en-US&query=\").concat(searchValue,\"&include_adult=false\"));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;// console.log('data', data.results)\nsetContent(data.results);setPaginationno(data.total_pages);case 6:case\"end\":return _context.stop();}}},_callee);}));return function GetDataTrending(){return _ref.apply(this,arguments);};}();useEffect(function(){// console.log('Trending Component did mount');\nGetDataTrending();//eslint-disable-next-line\n},[]);var fetchDataQuery=function fetchDataQuery(){// \nGetDataTrending();};var handleClick=function handleClick(number){setPageno(number);};useEffect(function(){// console.log('Trending Component didupdate mount');\nGetDataTrending();//eslint-disable-next-line\n},[pageno]);return/*#__PURE__*/_jsx(\"main\",{className:\"homePage\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"txtCenter\",children:\"Search Movies /  TV Series\"}),/*#__PURE__*/_jsx(SearchBarCardComponents,{searchValue:searchValue,setSearchValue:function setSearchValue(value){_setSearchValue(value);},typeValue:typeValue,setTypeValue:function setTypeValue(value){_setTypeValue(value);},filterData:fetchDataQuery})]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{className:\"col-12\",children:/*#__PURE__*/_jsxs(Row,{children:[content&&content.length>0?content.map(function(item,index){return/*#__PURE__*/_jsx(CardMoviesComponents,{data:item,mediaType:typeValue},index);}):'Loading ....',paginationno&&paginationno>1?/*#__PURE__*/_jsx(PaginationComponent,{maxnum:paginationno,activenum:pageno,handleClick:handleClick}):'']})})})]})});};export default SearchContainer;","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","axios","CardMoviesComponents","PaginationComponent","SearchBarCardComponents","SearchContainer","content","setContent","pageno","setPageno","paginationno","setPaginationno","searchValue","setSearchValue","typeValue","setTypeValue","API_KEY","process","env","REACT_APP_NOT_SECRET_CODE","GetDataTrending","get","data","results","total_pages","fetchDataQuery","handleClick","number","value","length","map","item","index"],"sources":["D:/puneshnmi/movie/src/Container/Search/index.js"],"sourcesContent":["import  React, {useState, useEffect} from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport axios from 'axios';\r\nimport CardMoviesComponents from '../../Components/CardMovies';\r\nimport PaginationComponent from '../../Components/Pagination';\r\nimport SearchBarCardComponents from '../../Components/SearchBox';\r\n\r\nconst  SearchContainer = ()=>{\r\n    const [content, setContent] = useState([]);\r\n    const [pageno, setPageno] = useState(1);\r\n    const [paginationno, setPaginationno] = useState(0);\r\n\r\n    const [searchValue, setSearchValue] = useState('Rockstar');\r\n    const [typeValue, setTypeValue] = useState('movie');\r\n    const API_KEY = process.env.REACT_APP_NOT_SECRET_CODE;\r\n\r\n    \r\n    \r\n    const GetDataTrending = async ()=>{\r\n        \r\n        const {data} = await axios.get(`https://api.themoviedb.org/3/search/${typeValue}?api_key=${API_KEY}&page=${pageno}&language=en-US&query=${searchValue}&include_adult=false`);\r\n        // console.log('data', data.results)\r\n        setContent(data.results);\r\n        setPaginationno(data.total_pages);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        // console.log('Trending Component did mount');\r\n        GetDataTrending();\r\n        //eslint-disable-next-line\r\n    }, [])\r\n\r\n    const fetchDataQuery = ()=>{\r\n        // \r\n        GetDataTrending()\r\n    }\r\n    \r\n    const handleClick = (number)=>{\r\n        setPageno(number);\r\n    }\r\n    useEffect(()=>{\r\n        // console.log('Trending Component didupdate mount');\r\n        GetDataTrending();\r\n        //eslint-disable-next-line\r\n    }, [pageno])\r\n    return (\r\n        <main className='homePage'>\r\n            <Container>\r\n                <Row>\r\n                    <Col className='col-12'>\r\n                        <section>\r\n                            <h1 className='txtCenter'>Search Movies /  TV Series</h1>\r\n                            <SearchBarCardComponents\r\n                                searchValue={searchValue}\r\n                                setSearchValue={(value)=>{setSearchValue(value)}}\r\n                                typeValue={typeValue}\r\n                                setTypeValue={(value)=>{setTypeValue(value)}}\r\n                                filterData={fetchDataQuery} />\r\n                        </section>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    \r\n                    <Col className='col-12'>\r\n                        <Row>\r\n                                {\r\n                                    content && content.length > 0 ? content.map((item, index)=>{\r\n                                        return (<CardMoviesComponents key={index} data={item} mediaType={typeValue}/>)\r\n                                    }) : 'Loading ....'\r\n                                }\r\n\r\n                            {\r\n                                paginationno && paginationno > 1 ? <PaginationComponent maxnum={paginationno} activenum={pageno} handleClick={handleClick}/> : ''\r\n                            }\r\n                        </Row>\r\n                    </Col>\r\n                    \r\n                </Row>\r\n            </Container>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default SearchContainer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}